<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./dist/bundle.css">
  <title>DeliveryFood.com</title>
</head>
<body>
  <div class='bg'></div>
  <div id="test"></div>

  <script type="text/javascript" src="http://webapi.amap.com/maps?v=1.3&key=58ffef72c9744fa9b01acea2e56344b2"></script>
  <script src="./dist/bundle.js" type="text/javascript"></script>
  <script>
  mapObj = new AMap.Map('center');
  mapObj.plugin(["AMap.CitySearch"], function() {
      //实例化城市查询类
      var citysearch = new AMap.CitySearch();
      //自动获取用户IP，返回当前城市
      citysearch.getLocalCity();
      AMap.event.addListener(citysearch, "complete", function(result){
          if(result && result.city && result.bounds) {
              var cityinfo = result.city;
              var citybounds = result.bounds;
              console.log(result);
              // document.getElementById('result').innerHTML = "您当前所在城市："+cityinfo+"";
              //地图显示当前城市
              // mapObj.setBounds(citybounds);
          }
          else {
              console.log(result);
              // document.getElementById('result').innerHTML = "您当前所在城市："+result.info+"";
          }
      });
      AMap.event.addListener(citysearch, "error", function(result){alert(result.info);});
  });
  </script>
</body>
</html>
